<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xdinary Heroes Bubble</title>
<link rel="stylesheet" href="style.css">
<script defer src="app.js"></script>
</head>
<body class="app-bg">
  <div id="app" class="app-frame app-frame--profile">

    <!-- 배경 이미지 -->
    <div class="member-bg-wrap">
      <img id="memberBg" class="member-bg" src="" alt="Background">
    </div>

    <!-- 프로필 카드 -->
    <div class="member-profile-card">
      <img id="memberProfile" class="member-profile-img" src="" alt="Profile">
      <h2 id="memberDisplayName" class="member-name">멤버 이름</h2>
      <p id="memberStatus" class="member-status">상태 메시지 또는 간단 설명</p>
      <button id="viewChatBtn" class="primary-btn wide-btn">채팅 보기</button>
    </div>

    <!-- 히스토리 팝업 (프로필/배경 이미지 공용) -->
    <div id="historyPopup" class="hidden">
      <div class="history-popup-card">
        <!-- 닫기 버튼: 클래스 이름이 CSS와 일치하도록 변경 -->
        <button id="historyPopupClose" class="history-popup-close" onclick="closeHistoryPopup()">
          <!-- stroke로 그려진 X 아이콘 (선으로 표시되게 수정) -->
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>

        <!-- 이미지 / 배경 표시 -->
        <div id="historyPopupContent" class="history-popup-content"></div>

        <!-- 이전/다음 버튼 (클래스명은 CSS에 맞춤)
             ※ 왼쪽 버튼은 '최근'으로(더 큰 번호) -> historyNext()
                오른쪽 버튼은 '과거'로(더 작은 번호) -> historyPrev()
        -->
        <button class="history-nav-prev" onclick="historyPrev()">‹</button>
        <button class="history-nav-next" onclick="historyNext()">›</button>

        <!-- 저장 버튼: 클래스/아이디 이름이 CSS와 일치하도록 변경 -->
        <button id="historyPopupDownload" class="history-popup-download" onclick="historyDownload()">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white" viewBox="0 0 24 24">
            <path d="M5 18h14v-2H5v2zm7-2l-7-7h4V4h6v5h4l-7 7z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- 닉네임 모달 -->
    <div id="nicknameModal" class="modal hidden">
      <div class="modal-card">
        <h3>닉네임을 입력해주세요</h3>
        <input type="text" id="nickInput" placeholder="닉네임 입력" style="width:80%; padding:8px; margin:12px 0; border-radius:12px; border:1px solid #ccc;">
        <button class="primary-btn wide-btn" onclick="saveNickname()">확인</button>
      </div>
    </div>

  </div>
</body>
</html>
